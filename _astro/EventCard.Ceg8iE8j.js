import{j as g}from"./jsx-runtime.D_zvdyIk.js";import{r as h,R as l}from"./index.DwQS_Y10.js";import{r as A,a as E,I as D}from"./images.BKI6k6hf.js";import{s as w,a as R}from"./site.config.CBJNM9-H.js";import{m as T}from"./index.9XDM_i-R.js";const C=h.forwardRef((e,t)=>l.createElement(T,{ref:t,...e},l.createElement("path",{opacity:"0.5",d:"M4 10.1433C4 5.64588 7.58172 2 12 2C16.4183 2 20 5.64588 20 10.1433C20 14.6055 17.4467 19.8124 13.4629 21.6744C12.5343 22.1085 11.4657 22.1085 10.5371 21.6744C6.55332 19.8124 4 14.6055 4 10.1433Z",stroke:"currentColor",strokeWidth:"1.5"}),l.createElement("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor",strokeWidth:"1.5"})));C.displayName="MapPoint";function k(){const e=w.date?.locale;return Array.isArray(e)?e[0]??"en-US":e}const L=k(),P={year:"numeric",month:"short",day:"numeric",...w.date?.options},S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=/[\u202F\u00A0\u2009]/g,F=/\s*–\s*/g;function b(e){return{locale:L,options:{...P,...e}}}function N(e,t,n){return Number.isNaN(t)||t<0||t>11?e:(n?.toLowerCase()??"").startsWith("en")?S[t]??e:e}function u(e){return e.replace(d," ").replace(F," – ")}function p(e,t,n){const o=new Intl.DateTimeFormat(t,n);if(typeof o.formatToParts=="function"){const s=o.formatToParts(e).map(r=>r.type==="month"?{...r,value:N(r.value,e.getMonth(),t)}:r);return u(s.map(r=>r.value).join(""))}return u(o.format(e))}function M(e,t,n,o){const s=new Intl.DateTimeFormat(n,o);if(typeof s.formatRangeToParts=="function"){const f=s.formatRangeToParts(e,t).map(i=>{if(i.type==="month"){const m=i.source==="endRange"?t:(i.source==="startRange",e);return{...i,value:N(i.value,m.getMonth(),n)}}return i});return u(f.map(i=>i.value).join(""))}if(typeof s.formatRange=="function")return u(s.formatRange(e,t));const r=p(e,n,o),a=p(t,n,o);return r===a?r:`${r} – ${a}`}function y(e){if(e instanceof Date)return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());if(e==null)return new Date(NaN);if(typeof e=="number")return new Date(e);const t=String(e),n=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(n){const[,o,s,r]=n;return new Date(Number(o),Number(s)-1,Number(r))}return new Date(t)}function v(e,t,n){const{locale:o,options:s}=b(n);return!t||e.getTime()===t.getTime()?p(e,o,s):M(e,t,o,s)}function x(e){if(e){if(e.city&&e.country)return`${e.city}, ${e.country}`;if(e.country)return e.country;if(e.online)return"Online"}}const W=({eventId:e,data:t})=>{const n=new Date,o=y(t.startDate),s=t.endDate?y(t.endDate):o;let r="upcoming";n>=o&&n<=s?r="happening now":n>s&&(r="past");const a=`${t.type.charAt(0).toUpperCase()+t.type.slice(1)}`,f=x(t.location),i=v(o,s),m=h.useMemo(()=>r==="past"&&t.featured?"previously-featured":t.featured?"featured":"not-featured",[r,t.featured]),c=A({hero:t.images?.hero,logoOrAvatar:E(t.images),policy:t.imagePolicy});return g.jsx(D,{title:t.displayName||t.name||e,listItems:[{text:i,icon:g.jsx(R,{className:"text-accent-two mt-0.5 w-4 h-4 shrink-0"})},{text:f??"Unknown Location",icon:g.jsx(C,{className:"text-accent-two mt-0.5 w-4 h-4 shrink-0"})}],href:`/events/${e}`,type:"events",image:c.image,imageAlt:t.name,logo:c.logo,showFallbackAvatar:c.showFallbackIcon,logoBackdrop:c.logoBackdrop,status:r,category:a,featuredState:m,links:{website:t.links?.website,registration:t.links?.registration}})};export{W as E};
//# sourceMappingURL=EventCard.Ceg8iE8j.js.map
