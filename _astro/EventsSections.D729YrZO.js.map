{"version":3,"file":"EventsSections.D729YrZO.js","sources":["../../src/components/sections/Section.tsx","../../src/components/events/EventsSections.tsx"],"sourcesContent":["import React from \"react\";\n\nexport type SectionVariant = \"primary\" | \"secondary\" | \"tertiary\" | \"default\";\n\nexport interface SectionProps {\n  title?: string;\n  subtitle?: string;\n  image?: {\n    src: string;\n    alt?: string;\n  };\n  variant?: SectionVariant;\n  className?: string;\n  id?: string;\n  ariaLabel?: string;\n  html?: string;\n  children?: React.ReactNode;\n}\n\nexport const Section: React.FC<SectionProps> = ({\n  title,\n  subtitle,\n  image,\n  variant = \"primary\",\n  className = \"\",\n  id,\n  ariaLabel,\n  html,\n  children,\n}) => {\n  const textClass =\n    {\n      primary: \"text-accent-two\",\n      secondary: \"text-accent-one\",\n      tertiary: \"text-accent-three\",\n      default: \"text-accent-base\",\n    }[variant] || \"text-accent-base\";\n\n  const textClassSubtitle =\n    {\n      primary: \"text-accent-base/70\",\n      secondary: \"text-accent-base/70\",\n      tertiary: \"text-accent-base/70\",\n      default: \"text-accent-base/70\",\n    }[variant] || \"text-accent-base/70\";\n\n  const outerPadding = !image ? \"py-8 sm:py-10\" : \"\";\n  const innerPadding = image ? \"py-8 sm:py-10\" : \"\";\n\n  // Anchor target for the section link\n  const anchorId = id ?? title;\n\n  return (\n    <div\n      className={`${outerPadding} ${className}`}\n      id={anchorId}\n      aria-label={ariaLabel || title}\n    >\n      {image && title ? (\n        <div className=\"relative w-full h-64 sm:h-80 mb-6 sm:mb-8 rounded-t-lg overflow-hidden\">\n          <a href={`#${anchorId}`} className=\"group block w-full h-full\">\n            <img\n              src={image.src}\n              alt={image.alt || title}\n              className=\"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105\"\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\n            <div className=\"absolute bottom-0 left-0 p-4 sm:p-6\">\n              <h2\n                className={`title text-xl sm:text-2xl lg:text-3xl cursor-pointer transition-colors duration-200 relative ${textClass}`}\n              >\n                <svg\n                  className=\"absolute -right-6 top-[55%] transform -translate-y-1/2 w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n                  />\n                </svg>\n                {title}\n              </h2>\n              {subtitle && (\n                <p className=\"text-base sm:text-lg text-white/90 mt-2\">\n                  {subtitle}\n                </p>\n              )}\n            </div>\n          </a>\n        </div>\n      ) : title ? (\n        <div className=\"text-center mb-6 sm:mb-8\">\n          <a href={`#${anchorId}`} className=\"group inline-block\">\n            <h2\n              className={`title mb-4 text-lg sm:text-xl cursor-pointer transition-colors duration-200 relative ${textClass}`}\n            >\n              <svg\n                className=\"absolute -left-6 top-[55%] transform -translate-y-1/2 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n                />\n              </svg>\n              {title}\n            </h2>\n          </a>\n          {subtitle && (\n            <p className={`text-base sm:text-lg ${textClassSubtitle}`}>\n              {subtitle}\n            </p>\n          )}\n        </div>\n      ) : null}\n\n      {html ? (\n        <div\n          className={innerPadding}\n          dangerouslySetInnerHTML={{ __html: html }}\n        />\n      ) : (\n        <div className={innerPadding}>{children}</div>\n      )}\n    </div>\n  );\n};\n\nexport default Section;\n","import React, { useMemo, useState, useRef, useEffect } from \"react\";\nimport { EventCard } from \"@/components/cards/EventCard\";\nimport Section from \"@/components/sections/Section\";\n\ntype LinkMap = {\n  website?: string;\n  registration?: string;\n  program?: string;\n  proceedings?: string;\n  recordings?: string;\n};\n\ntype Location = {\n  city?: string;\n  country?: string;\n  online?: boolean;\n};\n\ntype ImageRef = any;\n\nexport type SerializedEvent = {\n  id: string;\n  data: {\n    name?: string;\n    displayName?: string;\n    description?: string;\n    type: string;\n    startDate: string | Date;\n    endDate?: string | Date;\n    featured?: boolean;\n    links?: LinkMap;\n    location?: Location;\n    images?: {\n      logo?: ImageRef;\n      hero?: ImageRef;\n    };\n  };\n};\n\nexport interface EventsSectionsProps {\n  // Provide all events (past, current, upcoming). The component will categorize them at runtime.\n  events: SerializedEvent[];\n  // Optionally control how many items are initially shown in Featured and Past sections (no \"Show more\" UI here).\n  initialFeaturedCount?: number;\n  initialPastCount?: number;\n  className?: string;\n}\n\n/**\n * EventsSections\n *\n * Client-rendered events listing that computes Featured / Upcoming / Past at runtime (request-time),\n * so event placements won't be frozen at build-time.\n *\n * How sections are determined:\n * - Featured: all \"currently happening\" events (regardless of .featured flag) PLUS any future events with data.featured === true.\n * - Upcoming: events with endDate >= now, sorted ascending by startDate and grouped by start year.\n * - Past: events with endDate < now, sorted descending by startDate.\n */\ntype ExpandableGridProps<T> = {\n  items: T[];\n  initialCount: number;\n  viewAllText: string;\n  renderItem: (item: T, index: number) => React.ReactNode;\n};\n\nconst ExpandableGrid = <T extends { id: string }>({\n  items,\n  initialCount,\n  viewAllText,\n  renderItem,\n}: ExpandableGridProps<T>) => {\n  const [expanded, setExpanded] = useState(false);\n  const sectionRef = useRef<HTMLDivElement>(null);\n\n  const didMountRef = useRef(false);\n  const prevExpandedRef = useRef(expanded);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      prevExpandedRef.current = expanded;\n      return;\n    }\n    // Only scroll when collapsing from expanded -> collapsed\n    if (prevExpandedRef.current && !expanded && sectionRef.current) {\n      const top =\n        sectionRef.current.getBoundingClientRect().top + window.scrollY - 100;\n      window.scrollTo({ top, behavior: \"smooth\" });\n    }\n    prevExpandedRef.current = expanded;\n  }, [expanded]);\n\n  return (\n    <div\n      ref={sectionRef}\n      data-expandable-section\n      data-initial-count={initialCount.toString()}\n    >\n      <div\n        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n        data-items-container\n      >\n        {items.map((item, index) => (\n          <div\n            key={(item as any).id ?? index}\n            data-expandable-item\n            data-index={index}\n            className={index >= initialCount && !expanded ? \"hidden\" : \"\"}\n          >\n            {renderItem(item, index)}\n          </div>\n        ))}\n      </div>\n\n      {items.length > initialCount && (\n        <div className=\"text-center mt-6\">\n          <button\n            data-expand-button\n            onClick={() => setExpanded((v) => !v)}\n            className=\"inline-flex items-center gap-2 px-6 py-3 bg-accent-base/10 hover:bg-accent-base/20 rounded-lg font-medium text-accent-base transition-all\"\n          >\n            <span data-expand-text className={expanded ? \"hidden\" : \"\"}>\n              {viewAllText}\n            </span>\n            <span data-collapse-text className={expanded ? \"\" : \"hidden\"}>\n              Show Less\n            </span>\n            <svg\n              className=\"w-4 h-4 transition-transform\"\n              data-expand-icon\n              style={{\n                transform: expanded ? \"rotate(180deg)\" : \"rotate(0deg)\",\n              }}\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                d=\"M12 15l-4-4h8l-4 4z\"\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const EventsSections: React.FC<EventsSectionsProps> = ({\n  events,\n  initialFeaturedCount = 6,\n  initialPastCount = 6,\n  className,\n}) => {\n  const now = useMemo(() => new Date(), []);\n\n  const toDate = (d?: string | Date) =>\n    d ? (d instanceof Date ? d : new Date(d)) : undefined;\n\n  const computeStatus = (e: SerializedEvent) => {\n    const start = toDate(e.data.startDate)!;\n    const end = toDate(e.data.endDate) ?? start;\n    if (now > end) return \"past\" as const;\n    if (now >= start && now <= end) return \"ongoing\" as const;\n    return \"upcoming\" as const;\n  };\n\n  const normalizeForCard = (e: SerializedEvent) => ({\n    ...e,\n    data: {\n      ...e.data,\n      startDate: toDate(e.data.startDate)!,\n      endDate: toDate(e.data.endDate),\n    },\n  });\n\n  const { featuredEvents, upcomingEvents, pastEvents, upcomingByYear } =\n    useMemo(() => {\n      const withStatus = events.map((e) => ({\n        raw: e,\n        status: computeStatus(e),\n        start: toDate(e.data.startDate)!,\n        end: toDate(e.data.endDate) ?? toDate(e.data.startDate)!,\n        isFeaturedFlag: !!e.data.featured,\n      }));\n\n      // Current (happening now)\n      const current = withStatus.filter((x) => x.status === \"ongoing\");\n\n      // Future featured-only: featured events with future startDate\n      const featuredOnlyFuture = withStatus.filter(\n        (x) => x.isFeaturedFlag && x.start > now,\n      );\n\n      // Compose featured: all current (even if not flagged featured) + future featured-only\n      // Remove duplicates by id, keeping current events first\n      const featuredMap = new Map<string, (typeof withStatus)[number]>();\n      for (const x of current) featuredMap.set(x.raw.id, x);\n      for (const x of featuredOnlyFuture)\n        if (!featuredMap.has(x.raw.id)) featuredMap.set(x.raw.id, x);\n\n      const featuredEvents = Array.from(featuredMap.values())\n        .sort((a, b) => a.start.getTime() - b.start.getTime())\n        .map((x) => normalizeForCard(x.raw));\n\n      // Upcoming: endDate >= now, sorted by start asc\n      const upcomingEvents = withStatus\n        .filter((x) => x.end >= now)\n        .sort((a, b) => a.start.getTime() - b.start.getTime())\n        .map((x) => normalizeForCard(x.raw));\n\n      // Past: endDate < now, sorted by start desc\n      const pastEvents = withStatus\n        .filter((x) => x.end < now)\n        .sort((a, b) => b.start.getTime() - a.start.getTime())\n        .map((x) => normalizeForCard(x.raw));\n\n      // Group upcoming by year of startDate\n      const upcomingByYear = upcomingEvents.reduce(\n        (acc: Record<string, SerializedEvent[]>, e) => {\n          const y = (e.data.startDate as Date).getFullYear().toString();\n          acc[y] = acc[y] || [];\n          acc[y].push(e);\n          return acc;\n        },\n        {},\n      );\n\n      // Sort each year's events by date asc (already asc, but ensure)\n      Object.keys(upcomingByYear).forEach((year) => {\n        const arr = upcomingByYear[year];\n        if (arr) {\n          arr.sort(\n            (a, b) =>\n              (a.data.startDate as Date).getTime() -\n              (b.data.startDate as Date).getTime(),\n          );\n        }\n      });\n\n      return {\n        featuredEvents,\n        upcomingEvents,\n        pastEvents,\n        upcomingByYear,\n      };\n    }, [events, now]);\n\n  const cls = (...parts: Array<string | false | undefined>) =>\n    parts.filter(Boolean).join(\" \");\n\n  return (\n    <div className={cls(\"flex flex-col gap-10\", className)}>\n      {/* Featured */}\n      {featuredEvents.length > 0 && (\n        <Section\n          id=\"featured\"\n          title=\"Featured Events\"\n          subtitle=\"Highlighted events, including events happening right now\"\n          variant=\"primary\"\n        >\n          <ExpandableGrid\n            items={featuredEvents}\n            initialCount={initialFeaturedCount}\n            viewAllText={`View All ${featuredEvents.length} Featured & Current Events`}\n            renderItem={(e) => (\n              <EventCard key={e.id} eventId={e.id} data={e.data as any} />\n            )}\n          />\n        </Section>\n      )}\n\n      {/* Upcoming */}\n      {upcomingEvents.length > 0 && (\n        <Section\n          id=\"upcoming\"\n          title=\"Upcoming Events\"\n          subtitle=\"Meet with the community at these future gatherings\"\n          variant=\"secondary\"\n        >\n          <div className=\"flex flex-col gap-8\">\n            {Object.keys(upcomingByYear)\n              .sort()\n              .map((year) => (\n                <div key={year} className=\"mb-2\">\n                  <h3 className=\"text-xl md:text-2xl font-semibold mb-4 gradient-brand-text\">\n                    {year}\n                  </h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {(upcomingByYear[year] ?? []).map((e) => (\n                      <EventCard\n                        key={e.id}\n                        eventId={e.id}\n                        data={e.data as any}\n                      />\n                    ))}\n                  </div>\n                </div>\n              ))}\n          </div>\n        </Section>\n      )}\n\n      {/* Past */}\n      {pastEvents.length > 0 && (\n        <Section\n          id=\"past\"\n          title=\"Past Events\"\n          subtitle=\"Explore our full archive of previous community events\"\n          variant=\"tertiary\"\n        >\n          <ExpandableGrid\n            items={pastEvents}\n            initialCount={initialPastCount}\n            viewAllText={`View All ${pastEvents.length} Past Events`}\n            renderItem={(e) => (\n              <EventCard key={e.id} eventId={e.id} data={e.data as any} />\n            )}\n          />\n        </Section>\n      )}\n    </div>\n  );\n};\n\nexport default EventsSections;\n"],"names":["Section","title","subtitle","image","variant","className","id","ariaLabel","html","children","textClass","textClassSubtitle","outerPadding","innerPadding","anchorId","jsxs","jsx","ExpandableGrid","items","initialCount","viewAllText","renderItem","expanded","setExpanded","useState","sectionRef","useRef","didMountRef","prevExpandedRef","useEffect","top","item","index","v","EventsSections","events","initialFeaturedCount","initialPastCount","now","useMemo","toDate","d","computeStatus","e","start","end","normalizeForCard","featuredEvents","upcomingEvents","pastEvents","upcomingByYear","withStatus","current","x","featuredOnlyFuture","featuredMap","a","b","acc","y","year","arr","cls","parts","EventCard"],"mappings":"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"}