{"version":3,"file":"RelatedItemsGrid.BPEvDgPu.js","sources":["../../src/components/cards/OrganizationCard.tsx","../../src/components/cards/PersonCard.tsx","../../src/components/detail/RelatedItemsGrid.tsx"],"sourcesContent":["import type { FC } from \"react\";\nimport type { CollectionEntry } from \"astro:content\";\nimport { ItemCard } from \"@/components/cards/ItemCard\";\nimport { resolveCardImagePolicy, resolveLogoAsset } from \"@/utils/images\";\n\nexport interface OrganizationCardProps {\n  organizationId: string;\n  data: CollectionEntry<\"organizations\">[\"data\"];\n  className?: string;\n}\n\nexport const OrganizationCard: FC<OrganizationCardProps> = ({\n  organizationId,\n  data,\n  className: _className,\n}) => {\n  const typeLabel = data.type\n    ? data.type.charAt(0).toUpperCase() + data.type.slice(1)\n    : \"\";\n\n  const cardImages = resolveCardImagePolicy({\n    hero: data.images?.hero,\n    logoOrAvatar: resolveLogoAsset(data.images),\n    policy: data.imagePolicy,\n  });\n\n  return (\n    <ItemCard\n      title={data.shortName || data.name || organizationId}\n      description={data.description}\n      href={`/organizations/${organizationId}`}\n      type=\"organizations\"\n      image={cardImages.image}\n      imageAlt={data.name}\n      logo={cardImages.logo}\n      showFallbackAvatar={cardImages.showFallbackIcon}\n      logoBackdrop={cardImages.logoBackdrop}\n      category={typeLabel}\n      featuredState={data.featured ? \"featured\" : \"not-featured\"}\n      links={{\n        website: data.links?.website,\n        docs: data.links?.documentation,\n      }}\n    />\n  );\n};\n","import type { FC } from \"react\";\nimport type { CollectionEntry } from \"astro:content\";\nimport { ItemCard } from \"@/components/cards/ItemCard\";\nimport { resolveCardImagePolicy } from \"@/utils/images\";\n\nexport interface PersonCardProps {\n  personId: string;\n  data: CollectionEntry<\"people\">[\"data\"];\n  className?: string;\n}\n\nexport const PersonCard: FC<PersonCardProps> = ({\n  personId,\n  data,\n  className: _className,\n}) => {\n  const fullName = data.name || personId;\n\n  const description =\n    data.bio ||\n    (data.expertise && data.expertise.length > 0\n      ? `Expertise: ${data.expertise.slice(0, 3).join(\", \")}`\n      : undefined);\n\n  const websiteLink = data.links?.website;\n  const githubLink = data.links?.github\n    ? `https://github.com/${data.links.github}`\n    : undefined;\n  const cardImages = resolveCardImagePolicy({\n    hero: data.images?.hero,\n    logoOrAvatar: data.images?.avatar,\n    policy: data.imagePolicy,\n  });\n\n  return (\n    <ItemCard\n      title={fullName}\n      description={description}\n      href={`/people/${personId}`}\n      type=\"people\"\n      logo={cardImages.logo}\n      image={cardImages.image}\n      showFallbackAvatar={cardImages.showFallbackIcon}\n      logoBackdrop={cardImages.logoBackdrop}\n      category={data.title}\n      featuredState={data.featured ? \"featured\" : \"not-featured\"}\n      links={{\n        website: websiteLink,\n        github: githubLink,\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { OrganizationCard } from \"../cards/OrganizationCard\";\nimport { EventCard } from \"../cards/EventCard\";\nimport { HardwareCard } from \"../cards/HardwareCard\";\nimport { SoftwareCard } from \"../cards/SoftwareCard\";\nimport { ResearchCard } from \"../cards/ResearchCard\";\nimport { PersonCard } from \"../cards/PersonCard\";\nimport { resolveLogoAsset, type ImagePolicy } from \"@/utils/images\";\n\nexport interface RelatedItem {\n  id: string;\n  data: {\n    name?: string;\n    title?: string;\n    displayName?: string;\n    shortDescription?: string;\n    description?: string;\n    abstract?: string;\n    status?: string;\n    type?: string;\n    category?: string;\n    featured?: boolean;\n    images?: {\n      hero?: { src: string } | string;\n      logo?: { src: string } | string;\n      logoUrl?: string;\n    };\n    imagePolicy?: ImagePolicy;\n    avatar?: { src: string } | string;\n    logo?: { src: string } | string;\n    thumbnail?: { src: string } | string;\n    banner?: { src: string } | string;\n    links?: {\n      github?: string;\n      documentation?: string;\n      demo?: string;\n    };\n  };\n}\n\nexport interface RelatedItemsGridProps {\n  title?: string;\n  subtitle?: string;\n  items: RelatedItem[];\n  itemType?:\n    | \"hardware\"\n    | \"software\"\n    | \"people\"\n    | \"partners\"\n    | \"research\"\n    | \"events\";\n  columns?: 1 | 2 | 3 | 4;\n  className?: string;\n}\n\nexport const RelatedItemsGrid: React.FC<RelatedItemsGridProps> = ({\n  title = \"Related Items\",\n  subtitle,\n  items,\n  itemType = \"hardware\",\n  columns = 3,\n  className = \"\",\n}) => {\n  if (!items || items.length === 0) {\n    return null;\n  }\n\n  const getItemTitle = (item: RelatedItem) => {\n    return (\n      item.data.name || item.data.title || item.data.displayName || item.id\n    );\n  };\n\n  const getItemDescription = (item: RelatedItem) => {\n    return (\n      item.data.shortDescription ||\n      item.data.description ||\n      item.data.abstract ||\n      \"\"\n    );\n  };\n\n  const getItemImage = (item: RelatedItem) => {\n    const data = item.data;\n    if (typeof data.images?.hero === \"string\") return data.images.hero;\n    if (data.images?.hero && typeof data.images.hero !== \"string\") {\n      if (data.images.hero.src) return data.images.hero.src;\n    } else if (typeof data.images?.hero === \"string\") {\n      return data.images.hero;\n    }\n    if (data.avatar) {\n      if (typeof data.avatar === \"string\") return data.avatar;\n      if (data.avatar?.src) return data.avatar.src;\n    }\n    const customLogo = resolveLogoAsset(data.images);\n    if (typeof customLogo === \"string\") return customLogo;\n    if (customLogo && typeof customLogo !== \"string\") {\n      if (customLogo?.src) return customLogo.src;\n    } else if (typeof customLogo === \"string\") {\n      return customLogo;\n    }\n    if (data.logo) {\n      if (typeof data.logo === \"string\") return data.logo;\n      if (data.logo?.src) return data.logo.src;\n    }\n    if (data.thumbnail) {\n      if (typeof data.thumbnail === \"string\") return data.thumbnail;\n      if (data.thumbnail?.src) return data.thumbnail.src;\n    }\n    if (data.banner) {\n      if (typeof data.banner === \"string\") return data.banner;\n      if (data.banner?.src) return data.banner.src;\n    }\n    return null;\n  };\n\n  const getItemUrl = (item: RelatedItem) => {\n    return `/${itemType}/${item.id}`;\n  };\n\n  const gridColumns = {\n    1: \"grid-cols-1\",\n    2: \"grid-cols-1 md:grid-cols-2\",\n    3: \"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\",\n    4: \"grid-cols-1 md:grid-cols-2 lg:grid-cols-4\",\n  };\n\n  return (\n    <section className={`mt-12 ${className}`}>\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold mb-2\">{title}</h2>\n        {subtitle && (\n          <p className=\"text-color-600 dark:text-color-400\">{subtitle}</p>\n        )}\n      </div>\n\n      <div className={`grid ${gridColumns[columns]} gap-6`}>\n        {items.map((item) => {\n          const imageUrl = getItemImage(item);\n          const itemTitle = getItemTitle(item);\n          const description = getItemDescription(item);\n          const url = getItemUrl(item);\n\n          // Use the appropriate card component based on itemType\n          switch (itemType) {\n            case \"partners\":\n              return (\n                <OrganizationCard\n                  key={item.id}\n                  organizationId={item.id}\n                  data={item.data as any}\n                />\n              );\n            case \"events\":\n              return (\n                <EventCard\n                  key={item.id}\n                  eventId={item.id}\n                  data={item.data as any}\n                />\n              );\n            case \"hardware\":\n              return (\n                <HardwareCard\n                  key={item.id}\n                  hardwareId={item.id}\n                  data={item.data as any}\n                />\n              );\n            case \"software\":\n              return (\n                <SoftwareCard\n                  key={item.id}\n                  softwareId={item.id}\n                  data={item.data as any}\n                />\n              );\n            case \"research\":\n              return (\n                <ResearchCard\n                  key={item.id}\n                  researchId={item.id}\n                  data={item.data as any}\n                />\n              );\n            case \"people\":\n              return (\n                <PersonCard\n                  key={item.id}\n                  personId={item.id}\n                  data={item.data as any}\n                />\n              );\n            default:\n              // Fallback - shouldn't happen if itemType is properly typed\n              return null;\n          }\n        })}\n      </div>\n    </section>\n  );\n};\n"],"names":["OrganizationCard","organizationId","data","_className","typeLabel","cardImages","resolveCardImagePolicy","resolveLogoAsset","jsx","ItemCard","PersonCard","personId","fullName","description","websiteLink","githubLink","RelatedItemsGrid","title","subtitle","items","itemType","columns","className","getItemTitle","item","getItemDescription","getItemImage","customLogo","getItemUrl","gridColumns","jsxs","EventCard","HardwareCard","SoftwareCard","ResearchCard"],"mappings":"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"}