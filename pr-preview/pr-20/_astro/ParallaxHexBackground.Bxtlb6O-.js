import{j as L}from"./jsx-runtime.D_zvdyIk.js";import{r as g}from"./index.DwQS_Y10.js";import{f as M,c as B,d as le,e as ce,J as Ie,p as Se,v as He,i as Pe,g as Te,h as be,n as ue,r as Ae,j as ke,s as ze,u as Y,b as fe,k as J,l as T,M as de,o as N,m as Ve}from"./proxy.Dt1XIkxH.js";function he(e,t){let s;const n=()=>{const{currentTime:r}=t,i=(r===null?0:r.value)/100;s!==i&&e(i),s=i};return M.preUpdate(n,!0),()=>B(n)}function We(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],o=e[2+s],i=e[3+s],a=le(r,o,i);return t?a(n):a}function Ce(e,t,s={}){const n=e.get();let r=null,o=n,i;const a=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,c=()=>{r&&(r.stop(),r=null)},u=()=>{c();const l=K(e.get()),h=K(o);l!==h&&(r=new Ie({keyframes:[l,h],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:i}))};if(e.attach((l,h)=>{o=l,i=f=>h(q(f,a)),M.postRender(()=>{u(),e.events.animationStart?.notify(),r?.then(()=>{e.events.animationComplete?.notify()})})},c),ce(t)){const l=t.on("change",f=>e.set(q(f,a))),h=e.on("destroy",l);return()=>{l(),h()}}return c}function q(e,t){return t?e+t:e}function K(e){return typeof e=="number"?e:parseFloat(e)}const Oe=50,Z=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),_e=()=>({time:0,x:Z(),y:Z()}),Be={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Q(e,t,s,n){const r=s[t],{length:o,position:i}=Be[t],a=r.current,c=s.time;r.current=e[`scroll${i}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Se(0,r.scrollLength,r.current);const u=n-c;r.velocity=u>Oe?0:He(r.current-a,u)}function Fe(e,t,s){Q(e,"x",t,s),Q(e,"y",t,s),t.time=s}function Re(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(Pe(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();s.x+=r.left-o.left,s.y+=r.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:o}=n.getBBox();s.x+=r,s.y+=o;let i=null,a=n.parentNode;for(;!i;)a.tagName==="svg"&&(i=a),a=n.parentNode;n=i}else break;return s}const G={start:0,center:.5,end:1};function ee(e,t,s=0){let n=0;if(e in G&&(e=G[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const De=[0,0];function $e(e,t,s,n){let r=Array.isArray(e)?e:De,o=0,i=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,G[e]?e:"0"]),o=ee(r[0],s,n),i=ee(r[1],t),o-i}const Ne={All:[[0,0],[1,1]]},Ue={x:0,y:0};function je(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Ge(e,t,s){const{offset:n=Ne.All}=s,{target:r=e,axis:o="y"}=s,i=o==="y"?"height":"width",a=r!==e?Re(r,e):Ue,c=r===e?{width:e.scrollWidth,height:e.scrollHeight}:je(r),u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let l=!t[o].interpolate;const h=n.length;for(let f=0;f<h;f++){const d=$e(n[f],u[i],c[i],a[o]);!l&&d!==t[o].interpolatorOffsets[f]&&(l=!0),t[o].offset[f]=d}l&&(t[o].interpolate=le(t[o].offset,Te(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=be(0,1,t[o].interpolate(t[o].current))}function Ye(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function Xe(e,t,s,n={}){return{measure:r=>{Ye(e,n.target,s),Fe(e,s,r),(n.offset||n.target)&&Ge(e,s,n)},notify:()=>t(s)}}const I=new WeakMap,te=new WeakMap,U=new WeakMap,ne=new WeakMap,W=new WeakMap,se=e=>e===document.scrollingElement?window:e;function me(e,{container:t=document.scrollingElement,trackContentSize:s=!1,...n}={}){if(!t)return ue;let r=U.get(t);r||(r=new Set,U.set(t,r));const o=_e(),i=Xe(t,e,o,n);if(r.add(i),!I.has(t)){const c=()=>{for(const f of r)f.measure(ke.timestamp);M.preUpdate(u)},u=()=>{for(const f of r)f.notify()},l=()=>M.read(c);I.set(t,l);const h=se(t);window.addEventListener("resize",l),t!==document.documentElement&&te.set(t,Ae(t,l)),h.addEventListener("scroll",l),l()}if(s&&!W.has(t)){const c=I.get(t),u={width:t.scrollWidth,height:t.scrollHeight};ne.set(t,u);const l=()=>{const f=t.scrollWidth,d=t.scrollHeight;(u.width!==f||u.height!==d)&&(c(),u.width=f,u.height=d)},h=M.read(l,!0);W.set(t,h)}const a=I.get(t);return M.read(a,!1,!0),()=>{B(a);const c=U.get(t);if(!c||(c.delete(i),c.size))return;const u=I.get(t);I.delete(t),u&&(se(t).removeEventListener("scroll",u),te.get(t)?.(),window.removeEventListener("resize",u));const l=W.get(t);l&&(B(l),W.delete(t)),ne.delete(t)}}function ge(e){return typeof window<"u"&&!e&&ze()}const re=new Map;function Je(e){const t={value:0},s=me(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function pe({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=re.get(t)??new Map;re.set(t,r);const o=s.target??"self",i=r.get(o)??{},a=n+(s.offset??[]).join(",");return i[a]||(i[a]=ge(s.target)?new ScrollTimeline({source:t,axis:n}):Je({container:t,...s})),i[a]}function qe(e,t){const s=pe(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),he(r=>{n.time=n.iterationDuration*r},s))})}function Ke(e){return e.length===2}function Ze(e,t){return Ke(e)?me(s=>{e(s[t.axis].progress,s)},t):he(e,pe(t))}function ye(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return ue;const r={axis:t,container:s,...n};return typeof e=="function"?Ze(e,r):qe(e,r)}const Qe=()=>({scrollX:T(0),scrollY:T(0),scrollXProgress:T(0),scrollYProgress:T(0)}),C=e=>e?!e.current:!1;function oe(e,t,s){return{factory:n=>ye(n,{...t,axis:e,container:s}),times:[0,1],keyframes:[0,1],ease:n=>n,duration:1}}function et({container:e,target:t,...s}={}){const n=Y(Qe);if(!t&&ge()){const a=e?.current||void 0;n.scrollXProgress.accelerate=oe("x",s,a),n.scrollYProgress.accelerate=oe("y",s,a)}const r=g.useRef(null),o=g.useRef(!1),i=g.useCallback(()=>(r.current=ye((a,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...s,container:e?.current||void 0,target:t?.current||void 0}),()=>{r.current?.()}),[e,t,JSON.stringify(s.offset)]);return fe(()=>{if(o.current=!1,C(e)||C(t)){o.current=!0;return}else return i()},[i]),g.useEffect(()=>{if(o.current)return J(!C(e)),J(!C(t)),i()},[i]),n}function X(e){const t=Y(()=>T(e)),{isStatic:s}=g.useContext(de);if(s){const[,n]=g.useState(e);g.useEffect(()=>t.on("change",n),[])}return t}function xe(e,t){const s=X(t()),n=()=>s.set(t());return n(),fe(()=>{const r=()=>M.preRender(n,!1,!0),o=e.map(i=>i.on("change",r));return()=>{o.forEach(i=>i()),B(n)}}),s}function tt(e){N.current=[],e();const t=xe(N.current,e);return N.current=void 0,t}function _(e,t,s,n){if(typeof e=="function")return tt(e);const o=typeof t=="function"?t:We(t,s,n),i=Array.isArray(e)?ie(e,o):ie([e],([c])=>o(c)),a=Array.isArray(e)?void 0:e.accelerate;return a&&!a.isTransformed&&typeof t!="function"&&Array.isArray(s)&&n?.clamp!==!1&&(i.accelerate={...a,times:t,keyframes:s,isTransformed:!0}),i}function ie(e,t){const s=Y(()=>[]);return xe(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return t(s)})}function nt(e,t={}){const{isStatic:s}=g.useContext(de),n=()=>ce(e)?e.get():e;if(s)return _(n);const r=X(n());return g.useInsertionEffect(()=>Ce(r,e,t),[r,JSON.stringify(t)]),r}function st(e,t={}){return nt(e,{type:"spring",...t})}function rt(e){let t=2166136261;const s=String(e??new Date().toISOString().slice(0,10));for(let r=0;r<s.length;r++)t^=s.charCodeAt(r),t=Math.imul(t,16777619);let n=(t^2246822507)>>>0;return function(){n|=0,n=n+1831565813|0;let o=Math.imul(n^n>>>15,1|n);return o=o+Math.imul(o^o>>>7,61|o)^o,((o^o>>>14)>>>0)/4294967296}}function P(e,t,s){return t+e()*(s-t)}function ot({count:e,seed:t,palette:s,verticalSpanVh:n,horizontalRangeVw:r,opacity:o}){const i=rt(t),a=Math.round(e*.22),c=Math.round(e*.34),u=Math.max(0,e-a-c),l=[],h=[{n:a,sizePx:[72,96],parallax:[.65,1],z:3,strokeScale:1,fillScale:1},{n:c,sizePx:[42,92],parallax:[.35,.6],z:2,strokeScale:.9,fillScale:.9},{n:u,sizePx:[36,48],parallax:[.08,.3],z:1,strokeScale:.8,fillScale:.8}],f=["primary","secondary","tertiary"];for(const d of h)for(let v=0;v<d.n;v++){const x=i(),b=d.z===3?Math.sqrt(x):d.z===1?x*x:x,A=d.sizePx[0]+(d.sizePx[1]-d.sizePx[0])*b,E=P(i,d.parallax[0],d.parallax[1]),k=P(i,r.min,r.max),z=P(i,-n*.1,100+n*.8),S=Math.floor(i()*f.length)%f.length,H=f[S]??"primary",F=H==="primary"?0:H==="secondary"?120:240,R=P(i,o.stroke[0],o.stroke[1])*d.strokeScale,V=P(i,o.fill[0],o.fill[1])*d.fillScale;l.push({id:`${d.z}-${v}-${Math.floor(i()*1e9)}`,xVw:k,yVh:z,size:A,rotationDeg:F,variant:H,parallax:E,zIndex:d.z,strokeOpacity:R,fillOpacity:V})}return l}const it="M0.55,10.626L18.002,0.55L35.456,10.627L35.472,30.771L24.893,36.879L29.541,39.562C29.543,39.564 29.546,39.565 29.548,39.567L30.716,40.241L23.83,44.202L14.575,38.873L0.55,30.778L0.55,10.626Z",j=37,O=45;function at(e,t=!1){if(t)switch(e){case"primary":return"#d4d4d4";case"secondary":return"#bdbdbd";case"tertiary":return"#a3a3a3"}switch(e){case"primary":return"#EF6129";case"secondary":return"#FF9E00";case"tertiary":return"#50C4B6"}}function lt(e,t=!1){if(t)switch(e){case"primary":return"#d4d4d4";case"secondary":return"#bdbdbd";case"tertiary":return"#a3a3a3"}switch(e){case"primary":return"#EF6129";case"secondary":return"#FF9E00";case"tertiary":return"#50C4B6"}}const ct=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i;function ae(){if(typeof navigator>"u")return!1;const e=navigator.userAgent||navigator.vendor||"";if(ct.test(e)||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>1)return!0;if(typeof window<"u"&&typeof window.matchMedia=="function")try{if(window.matchMedia("(pointer: coarse)").matches)return!0}catch{}return!1}function ut({spec:e,virtualWidth:t,virtualHeight:s}){const n=Math.max(0,Math.min(1,e.parallax)),r=1,o=4,a=`blur(${o-n*(o-r)}px)`,c=at(e.variant),u=lt(e.variant),l=e.size/O,f=16,d=e.size+f*2,v=100,x=Math.max(0,t/16),A=(e.xVw>=v?e.xVw+x:e.xVw)/100*t-f,E=e.yVh/100*s-f;return L.jsx("div",{style:{filter:a,WebkitFilter:a},children:L.jsx("svg",{width:d,height:d,viewBox:`${-j/2} ${-O/2} ${j} ${O}`,style:{position:"absolute",left:`${A}px`,top:`${E}px`,zIndex:e.zIndex,opacity:1,pointerEvents:"none",overflow:"visible",willChange:"transform, filter"},"aria-hidden":"true",children:L.jsx("g",{transform:`rotate(${e.rotationDeg})`,style:{filter:a,WebkitFilter:a},children:L.jsx("path",{d:it,fill:u,fillOpacity:e.fillOpacity,stroke:c,strokeOpacity:e.strokeOpacity,strokeWidth:1,vectorEffect:"non-scaling-stroke",transform:`translate(${-j/2*l}, ${-O/2*l}) scale(${l})`})})})})}function mt({count:e=48,seed:t,verticalSpanVh:s=220,horizontalRangeVw:n={min:-10,max:110},palette:r=["#50C4B6","#FF9E00","#EF6129"],opacity:o={stroke:[.22,.55],fill:[.05,.18]},className:i=""}){const l=()=>typeof window>"u"?{width:768,height:960}:{width:window.innerWidth,height:Math.max(960,window.innerHeight)},[h,f]=g.useState(l),[d,v]=g.useState(()=>ae());g.useEffect(()=>{if(typeof window>"u")return;let m=null;const p=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(()=>{const w=window.innerWidth,y=Math.max(960,window.innerHeight);f($=>Math.abs($.width-w)<24&&Math.abs($.height-y)<24?$:{width:w,height:y})})};return window.addEventListener("resize",p,{passive:!0}),window.visualViewport?.addEventListener("resize",p),()=>{m&&cancelAnimationFrame(m),window.removeEventListener("resize",p),window.visualViewport?.removeEventListener("resize",p)}},[]),g.useEffect(()=>{v(ae())},[]);const x=Math.max(768,h.width),b=Math.max(960,h.height),E=x<=768?Math.max(24,Math.round(e*.75)):e,k=d,z=g.useMemo(()=>ot({count:E,seed:t??new Date().toISOString().slice(0,10),palette:r,verticalSpanVh:s,horizontalRangeVw:n,opacity:o}).sort((m,p)=>m.zIndex-p.zIndex),[E,t,r,s,n,o]),S=g.useMemo(()=>{const m=[],p=[],w=[];for(const y of z)y.zIndex===3?m.push(y):y.zIndex===2?p.push(y):w.push(y);return{near:m,mid:p,far:w}},[z]),H=.8,F=.45,R=.18,{scrollY:V}=et(),we=st(V,{stiffness:250,damping:30,mass:.2}),ve=X(0),D=k?ve:d?we:V,Le=_(D,m=>-m*H),Me=_(D,m=>-m*F),Ee=_(D,m=>-m*R);return L.jsx("div",{className:`pointer-events-none fixed inset-0 ${i}`,"aria-hidden":"true",children:[{key:"near",mv:Le,items:S.near},{key:"mid",mv:Me,items:S.mid},{key:"far",mv:Ee,items:S.far}].map(({key:m,mv:p,items:w})=>w.length?L.jsx(Ve.div,{style:{y:k?0:p,position:"absolute",inset:0,pointerEvents:"none"},"aria-hidden":"true",children:w.map(y=>L.jsx(ut,{spec:y,virtualWidth:x,virtualHeight:b},y.id))},m):null)})}export{mt as default};
//# sourceMappingURL=ParallaxHexBackground.Bxtlb6O-.js.map
