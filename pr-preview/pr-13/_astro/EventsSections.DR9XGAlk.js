import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.DP23ewiS.js";import{E as N}from"./EventCard.CxQS5mL6.js";import"./site.config.CUSXy9VP.js";import"./index.DkQ8FYsC.js";import"./index.BvqVbXGs.js";import"./links.D8Vz1fK5.js";const E=({title:r,subtitle:l,image:c,variant:g="primary",className:s="",id:n,ariaLabel:p,html:u,children:m})=>{const o={primary:"text-accent-two",secondary:"text-accent-one",tertiary:"text-accent-three",default:"text-accent-base"}[g]||"text-accent-base",d={primary:"text-accent-base/70",secondary:"text-accent-base/70",tertiary:"text-accent-base/70",default:"text-accent-base/70"}[g]||"text-accent-base/70",v=c?"":"py-8 sm:py-10",j=c?"py-8 sm:py-10":"",a=n??r;return e.jsxs("div",{className:`${v} ${s}`,id:a,"aria-label":p||r,children:[c&&r?e.jsx("div",{className:"relative w-full h-64 sm:h-80 mb-6 sm:mb-8 rounded-t-lg overflow-hidden",children:e.jsxs("a",{href:`#${a}`,className:"group block w-full h-full",children:[e.jsx("img",{src:c.src,alt:c.alt||r,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-4 sm:p-6",children:[e.jsxs("h2",{className:`title text-xl sm:text-2xl lg:text-3xl cursor-pointer transition-colors duration-200 relative ${o}`,children:[e.jsx("svg",{className:"absolute -right-6 top-[55%] transform -translate-y-1/2 w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),r]}),l&&e.jsx("p",{className:"text-base sm:text-lg text-white/90 mt-2",children:l})]})]})}):r?e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("a",{href:`#${a}`,className:"group inline-block",children:e.jsxs("h2",{className:`title mb-4 text-lg sm:text-xl cursor-pointer transition-colors duration-200 relative ${o}`,children:[e.jsx("svg",{className:"absolute -left-6 top-[55%] transform -translate-y-1/2 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),r]})}),l&&e.jsx("p",{className:`text-base sm:text-lg ${d}`,children:l})]}):null,u?e.jsx("div",{className:j,dangerouslySetInnerHTML:{__html:u}}):e.jsx("div",{className:j,children:m})]})},D=({items:r,initialCount:l,viewAllText:c,renderItem:g})=>{const[s,n]=h.useState(!1),p=h.useRef(null),u=h.useRef(!1),m=h.useRef(s);return h.useEffect(()=>{if(!u.current){u.current=!0,m.current=s;return}if(m.current&&!s&&p.current){const o=p.current.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:o,behavior:"smooth"})}m.current=s},[s]),e.jsxs("div",{ref:p,"data-expandable-section":!0,"data-initial-count":l.toString(),children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6","data-items-container":!0,children:r.map((o,d)=>e.jsx("div",{"data-expandable-item":!0,"data-index":d,className:d>=l&&!s?"hidden":"",children:g(o,d)},o.id??d))}),r.length>l&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs("button",{"data-expand-button":!0,onClick:()=>n(o=>!o),className:"inline-flex items-center gap-2 px-6 py-3 bg-accent-base/10 hover:bg-accent-base/20 rounded-lg font-medium text-accent-base transition-all",children:[e.jsx("span",{"data-expand-text":!0,className:s?"hidden":"",children:c}),e.jsx("span",{"data-collapse-text":!0,className:s?"":"hidden",children:"Show Less"}),e.jsx("svg",{className:"w-4 h-4 transition-transform","data-expand-icon":!0,style:{transform:s?"rotate(180deg)":"rotate(0deg)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M12 15l-4-4h8l-4 4z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})},A=({events:r,initialFeaturedCount:l=6,initialPastCount:c=6,className:g})=>{const s=h.useMemo(()=>new Date,[]),n=a=>a?a instanceof Date?a:new Date(a):void 0,p=a=>{const x=n(a.data.startDate),b=n(a.data.endDate)??x;return s>b?"past":s>=x&&s<=b?"ongoing":"upcoming"},u=a=>({...a,data:{...a.data,startDate:n(a.data.startDate),endDate:n(a.data.endDate)}}),{featuredEvents:m,upcomingEvents:o,pastEvents:d,upcomingByYear:v}=h.useMemo(()=>{const a=r.map(t=>({raw:t,status:p(t),start:n(t.data.startDate),end:n(t.data.endDate)??n(t.data.startDate),isFeaturedFlag:!!t.data.featured})),x=a.filter(t=>t.status==="ongoing"),b=a.filter(t=>t.isFeaturedFlag&&t.start>s),w=new Map;for(const t of x)w.set(t.raw.id,t);for(const t of b)w.has(t.raw.id)||w.set(t.raw.id,t);const T=Array.from(w.values()).sort((t,i)=>t.start.getTime()-i.start.getTime()).map(t=>u(t.raw)),k=a.filter(t=>t.end>=s).sort((t,i)=>t.start.getTime()-i.start.getTime()).map(t=>u(t.raw)),C=a.filter(t=>t.end<s).sort((t,i)=>i.start.getTime()-t.start.getTime()).map(t=>u(t.raw)),y=k.reduce((t,i)=>{const f=i.data.startDate.getFullYear().toString();return t[f]=t[f]||[],t[f].push(i),t},{});return Object.keys(y).forEach(t=>{const i=y[t];i&&i.sort((f,M)=>f.data.startDate.getTime()-M.data.startDate.getTime())}),{featuredEvents:T,upcomingEvents:k,pastEvents:C,upcomingByYear:y}},[r,s]),j=(...a)=>a.filter(Boolean).join(" ");return e.jsxs("div",{className:j("flex flex-col gap-10",g),children:[m.length>0&&e.jsx(E,{id:"featured",title:"Featured Events",subtitle:"Highlighted events, including events happening right now",variant:"primary",children:e.jsx(D,{items:m,initialCount:l,viewAllText:`View All ${m.length} Featured & Current Events`,renderItem:a=>e.jsx(N,{eventId:a.id,data:a.data},a.id)})}),o.length>0&&e.jsx(E,{id:"upcoming",title:"Upcoming Events",subtitle:"Meet with the community at these future gatherings",variant:"secondary",children:e.jsx("div",{className:"flex flex-col gap-8",children:Object.keys(v).sort().map(a=>e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-4 gradient-brand-text",children:a}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(v[a]??[]).map(x=>e.jsx(N,{eventId:x.id,data:x.data},x.id))})]},a))})}),d.length>0&&e.jsx(E,{id:"past",title:"Past Events",subtitle:"Explore our full archive of previous community events",variant:"tertiary",children:e.jsx(D,{items:d,initialCount:c,viewAllText:`View All ${d.length} Past Events`,renderItem:a=>e.jsx(N,{eventId:a.id,data:a.data},a.id)})})]})};export{A as default};
//# sourceMappingURL=EventsSections.DR9XGAlk.js.map
