---
import Card from "./Card.astro";

export interface Props {
  name: string;
  date: string;
  dateRange?: string | undefined;
  location?: string | undefined;
  description?: string | undefined;
  link?: string | undefined;
  type?:
    | "conference"
    | "workshop"
    | "hackathon"
    | "symposium"
    | "summit"
    | "training"
    | "meetup"
    | "webinar"
    | "competition";
  isPast?: boolean | undefined;
}

const {
  name,
  date,
  dateRange,
  location,
  description,
  link,
  type = "conference",
  isPast = false,
} = Astro.props;

const typeColors = {
  conference: "from-accent-one to-accent-two",
  workshop: "from-accent-two to-special",
  symposium: "from-special to-accent-one",
  summit: "from-accent-base to-accent-one",
  training: "from-accent-two to-accent-base",
  hackathon: "from-purple-500 to-pink-500",
  meetup: "from-indigo-500 to-blue-500",
  webinar: "from-teal-500 to-cyan-500",
  competition: "from-yellow-500 to-orange-500",
};

const gradientColor = typeColors[type] || typeColors.conference;

// Build the subtitle from date and location
const subtitleParts = [];
if (dateRange || date) {
  subtitleParts.push(dateRange || date);
}
if (location) {
  subtitleParts.push(`üìç ${location}`);
}
const subtitle = subtitleParts.join(" | ");
---

<Card
  title={name}
  subtitle={subtitle}
  description={description}
  link={link}
  isPast={isPast}
  status={{
    label: type,
    color: `bg-gradient-to-r ${gradientColor}`,
  }}
  class="event-card"
/>
