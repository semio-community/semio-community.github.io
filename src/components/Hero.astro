---
import GlyphField from "./GlyphField.astro";

export interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<div
  class={`hero-container min-h-[380px] sm:min-h-[420px] md:min-h-[480px] w-full bg-transparent flex items-center justify-center relative overflow-hidden py-16 sm:py-20 md:py-24 pt-24 sm:pt-28 md:pt-32 ${className || ""}`}
>
  <!-- Glyph field with edge fade mask -->
  <div class="glyph-wrapper absolute inset-0 w-full h-full">
    <GlyphField
      speed={1000}
      grayscale={false}
      filled={true}
      count={25}
      scaling={1}
      class="flex h-full w-full opacity-25 dark:opacity-15"
    />
  </div>

  <!-- Content overlay -->
  <div
    class="relative z-10 text-center px-4 sm:px-6 md:px-8 max-w-5xl mx-auto w-full"
  >
    <slot />
  </div>
</div>

<style>
  .glyph-wrapper {
    /* Create edge fade using CSS mask with gradients */
    mask-image:
      linear-gradient(
        to right,
        transparent 0%,
        black 10%,
        black 90%,
        transparent 100%
      ),
      linear-gradient(
        to bottom,
        transparent 0%,
        black 15%,
        black 85%,
        transparent 100%
      );
    mask-size: 100% 100%;
    mask-position: center;
    mask-repeat: no-repeat;
    mask-composite: intersect;

    /* Webkit support */
    -webkit-mask-image:
      linear-gradient(
        to right,
        transparent 0%,
        black 10%,
        black 90%,
        transparent 100%
      ),
      linear-gradient(
        to bottom,
        transparent 0%,
        black 15%,
        black 85%,
        transparent 100%
      );
    -webkit-mask-size: 100% 100%;
    -webkit-mask-position: center;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-composite: source-in;
  }

  /* Fallback for browsers that don't support mask-composite */
  @supports not (mask-composite: intersect) {
    .glyph-wrapper {
      mask: radial-gradient(
        ellipse 90% 80% at center,
        black 40%,
        transparent 100%
      );
      -webkit-mask: radial-gradient(
        ellipse 90% 80% at center,
        black 40%,
        transparent 100%
      );
    }
  }
</style>
