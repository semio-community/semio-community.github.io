---
import { ItemCard as ItemCardReact } from "./ItemCard";
import type { ImageMetadata } from "astro";
import type { FeaturedState } from "@/components/ui/FeaturedStar";

export interface Props {
  title: string;
  description?: string;
  href: string;
  image?: ImageMetadata;
  imageUrl?: string;
  imageAlt?: string;
  logo?:
    | ImageMetadata
    | { src: string; width?: number; height?: number; format?: string };
  status?: string;
  statusLabel?: string;
  category?: string;
  featuredState?: FeaturedState;
  type?:
    | "hardware"
    | "software"
    | "people"
    | "partners"
    | "research"
    | "events";
  links?: {
    github?: string;
    docs?: string;
    demo?: string;
    website?: string;
  };
}

const {
  title,
  description,
  href,
  image,
  imageUrl,
  imageAlt,
  logo,
  status,
  statusLabel,
  category,
  featuredState,
  type = "hardware",
  links,
} = Astro.props;

// Convert Astro image to URL string if provided
const finalImageUrl = image?.src || imageUrl;
const finalLogo = logo;
---

<ItemCardReact
  client:load
  title={title}
  description={description}
  href={href}
  imageUrl={finalImageUrl}
  imageAlt={imageAlt}
  logo={finalLogo}
  status={status}
  statusLabel={statusLabel}
  category={category}
  featuredState={featuredState}
  type={type}
  links={links}
/>
