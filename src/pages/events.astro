---
import BaseHead from "@/components/BaseHead.astro";
import SiteShell from "@/layouts/SiteShell.astro";
import EventsPage from "@/react-pages/events/EventsPage";
import EventsSections from "@/components/events/EventsSections";
import { getAllEvents } from "@/data/events";

const meta = {
  title: "Events",
  description:
    "Conferences, workshops, and training events for the human-robot interaction community",
};

const allEvents = await getAllEvents();
---

<html
  class="overflow-x-hidden grid scroll-pt-[72px] scroll-smooth font-sans text-text text-xl md:text-base antialiased"
  lang="en"
>
  <head>
    <BaseHead title={meta.title} description={meta.description} />
  </head>
  <body class="relative min-h-screen w-full bg-surface">
    <SiteShell noPaddingTop showBackground>
                        
            <EventsPage>
              {
                allEvents.length > 0 && (
                  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-0">
                    <EventsSections
                      client:load
                      events={allEvents.map((event) => ({
                        id: event.id,
                        data: event.data,
                      }))}
                      initialFeaturedCount={6}
                      initialPastCount={6}
                    />
                  </div>
                )
              }
            </EventsPage>
    </SiteShell>
  </body>
</html>
