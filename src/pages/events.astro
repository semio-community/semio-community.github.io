---
import PageLayout from "@/layouts/Base.astro";
import Section from "@/components/Section.astro";

import CallToActionButton from "@/components/ui/CallToActionButton.astro";
import { getAllEvents } from "@/data/events";
import Hero from "@/components/Hero.astro";
import EventsSections from "@/components/events/EventsSections";

const meta = {
  title: "Events",
  description:
    "Conferences, workshops, and training events for the human-robot interaction community",
};

const allEvents = await getAllEvents();
---

<PageLayout meta={meta} noPaddingTop>
  <div
    class="relative pt-16 md:pt-20 lg:pt-4 mb-8 sm:mb-12"
    style="width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw;"
  >
    <Hero>
      <!-- Title -->
      <h1
        class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-accent-base mb-3 sm:mb-4 md:mb-6 font-semibold uppercase tracking-wide"
      >
        Events
      </h1>

      <!-- Subtitle -->
      <p
        class="text-sm sm:text-base md:text-lg lg:text-xl font-light text-accent-base mb-8 sm:mb-10 md:mb-12 max-w-3xl mx-auto leading-relaxed px-2 sm:px-0"
      >
        Gather with the Semio Community at conferences, workshops, and training
        events focused on human-centered robotics and AI.
      </p>

      <!-- CTA Button -->
      <div class="flex flex-wrap justify-center gap-4 mb-8">
        <CallToActionButton
          href="#featured"
          text="Featured Events"
          size="large"
        />
        <CallToActionButton
          href="#upcoming"
          text="Upcoming Events"
          size="large"
          variant="secondary"
        />
        <CallToActionButton
          href="#past"
          text="Past Events"
          size="large"
          variant="tertiary"
        />
      </div>
    </Hero>
  </div>

  {
    allEvents.length > 0 && (
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-0">
        <EventsSections
          client:load
          events={allEvents.map((e) => ({ id: e.id, data: e.data }))}
          initialFeaturedCount={6}
          initialPastCount={6}
        />
      </div>
    )
  }

  <!-- Call to Action -->
  <Section id="events-contribute" title="Partner for an Event">
    <div class="max-w-4xl mx-auto text-center">
      <p class="mb-8 -mt-6 md:-mt-8">
        Planning a conference, workshop, or other community gathering?<br /><br
          class="md:hidden"
        /> Partner with Semio Community to reach a broader robotics/AI audience.
      </p>

      <div class="flex flex-wrap justify-center gap-4">
        <CallToActionButton
          href="https://forms.gle/5iiaThSsGUMzXWsu6"
          text="Request Event Services"
          size="large"
        />
      </div>
    </div>
  </Section>
</PageLayout>
